<div id="pano"></div>
<sidebar id="sidebar"></sidebar>
<input id="pac-input" class="controls" type="text" placeholder="Search Box">
<div id="map"></div>
  <script>
    function initialize() {
      // var lat = <%= @lat %>;
      // var lng = <%= @lng %>;
    var location = {lat: 42.345573, lng: -71.098326};
      // {lat: lat, lng: lng}
    var map = new google.maps.Map(document.getElementById('map'), {
      center: location,
      zoom: 14
    });
      map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

        // Bias the SearchBox results towards current map's viewport.
        map.addListener('bounds_changed', function() {
          searchBox.setBounds(map.getBounds());
        });

    var panorama = new google.maps.StreetViewPanorama(
      document.getElementById('pano'), {
        position: location,
        pov: {
          heading: 34,
          pitch: 10
            }
        });
      map.setStreetView(panorama);
    }
  </script>
  <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=<%= google_key %>&callback=initialize">
  </script>
